@using System.Data

@model BankMSWeb.Models.DetailsStatements

@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            margin: 0;
        }

        .content {
            flex: 1;
            margin: 15px;
        }

        /* Optional styling for better visibility */
        table, th, td {
            border-collapse: collapse;
        }

        #table2, #table3, #table2 th, #table2 td, #table3 th, #table3 td {
            border: 1px solid black;
        }

        thead {
            text-align: center;
        }

        #sl {
            text-align: center;
        }

        #amountValue {
            text-align: right;
        }

        #payment {
            width: 27%;
        }

        #received {
            width: 15%;
        }

        .signatures table {
            width: 100%;
            border: none;
            margin-top: 20px;
        }

        .signatures td {
            border: none;
            padding-top: 10px;
        }

        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            text-align: center;
            margin-bottom: 10px;
            font-size: 10px;
        }

        /* Ensure the page uses the full height and space */
        html, body {
            height: 100%;
        }

        .content {
            min-height: calc(100% - 100px); /* Ensure content takes available space, adjusting for footer height */
        }

    </style>
</head>
<body>

    <div class="content">
        <table style="width:100%">
            <tr>
                
                <th style="text-align:center;">
                    <h2 >ABC Bank PLC</h2>
                    <h4 >Bank Address</h4>
                </th>
            </tr>
            <tr>
                <td colspan="2" width=100% style="text-align:center;font-size:20px;">
                    <strong><span style="margin-left:10px;"><u>Details Statements(@Model.AccountSummary.AccountNo)</u></span></strong>
                </td>
            </tr>
        </table>
        <br />
        <table width="100%">
            <tbody>
                <tr>
                    <td width="16%"><strong>Customer Name :</strong></td>
                    <td width="34%">@Model.AccountSummary.CustomerName</td>
                    <td width="7%" style="text-align:right"><strong>Date :</strong></td>
                    <td width="43%" style="text-align:right"><strong>@Convert.ToDateTime(DateTime.Now)</strong></td>
                </tr>
                <tr>
                    <td width="16%"><strong>Account No:</strong></td>
                    <td width="34%">@Model.AccountSummary.AccountNo</td>
                    <td width="16%"><strong>Account Type :</strong></td>
                    <td width="34%"><strong>@Model.AccountSummary.AccountType</strong></td>
                </tr>
                <tr>
                    <td width="16%"><strong>Balance:</strong></td>
                    <td width="34%">@Model.AccountSummary.OpeningBalance</td>
                </tr>
            </tbody>
        </table>
        <hr />
        <table style="width:100%;" id="table2">
            <thead>
                <tr>
                    <td colspan="8" style="text-align:center"><strong>Loan History</strong></td>
                </tr>
                <tr>
                    <th>Account No</th>
                    <th>Loan Type</th>
                    <th>Interest Rate</th>
                    <th>Term</th>
                    <th>Approved Date</th>
                    <th>Loan Amount</th>
                    <th>Status</th>
                </tr>
            <thead>
            <tbody>
                        @{
                            var slNo = 1;
                        }
                        @foreach(var item in Model.LoanList)
                        {
                            <tr>
                                <td>@Model.AccountSummary.AccountNo</td>
                                <td>@item.LoanType</td>
                                <td>@item.InterestRate</td>
                                <td>@item.Term</td>
                                <td>@item.StartDate</td>
                                <td amountValue>@item.LoanAmount</td>
                                <td>@item.LoanStatus</td>
                            </tr>
                        }

            </tbody>
        </table>
        <hr />
        <table style="width:100%;" id="table3">
            <thead>
                <tr>
                    <td colspan="4" style="text-align:center"><strong>Transaction History</strong></td>
                </tr>
                <tr>
                    <th>Transaction Date</th>
                    <th>Transaction Type</th>
                    <th>Remarks</th>
                    <th>Amount</th>
                </tr>
            <thead>
            <tbody>
                        @foreach(var item in Model.TransactionDetailsVws)
                        {
                            <tr>
                                <td>@item.TransactionDate</td>
                                <td>@item.TransactionType</td>
                                <td>@item.Remarks</td>
                                <td id="amountValue">@item.Amount</td>
                            </tr>
                        }  
                    </tbody>
        </table>
        <br /><br /><br />
        <div class="signatures">
            <table>
                <tr style="text-align: center;">
                    <td>__________________</td>
                    <td>__________________</td>
                    <td>__________________</td>
                </tr>
                <tr style="text-align: center;">
                    <td>Prepared By :</td>
                    <td>Checked By :</td>
                    <td>Approved By :</td>
                </tr>
            </table>
        </div>
    </div>

    <!-- Footer at the bottom -->
    <div class="footer">
        <span>Print Date: @DateTime.Now.ToString("dd-MM-yyyy")</span>
        <span>Entry by: </span>
    </div>

</body>
</html>

